{% extends "layout.html" %}

{% block title %}
    MarketMakingMadness | Homepage
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/homepage.css') }}">
{% endblock %}

{% block main %}
<div id="homepage">
    <!-- Hero Section -->
    <section id="hero" class="hero-section text-center">
        <h1 class="hero-title">Welcome to MarketMakingMadness</h1>
        <p class="hero-subtitle">The ultimate market-making game where strategy meets competition.</p>
        <a href="{{ url_for('game') }}" class="btn btn-primary">Start Game</a>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="dashboard-section container py-5">
        <h2 class="text-center mb-4">Your Dashboard</h2>
        {% if user.is_authenticated %}
            <div class="row g-4">
                <!-- Total Profit/Loss Card -->
                <div class="col-lg-4">
                    <div class="dashboard-card bg-light p-4 rounded">
                        <h3 class="dashboard-title">Total Profit/Loss</h3>
                        <p class="dashboard-value text-success">${{ total_pnl }}</p>
                        <p class="dashboard-change">Increased by 10%</p>
                    </div>
                </div>
                <!-- Games Played Card -->
                <div class="col-lg-4">
                    <div class="dashboard-card bg-light p-4 rounded">
                        <h3 class="dashboard-title">Games Played</h3>
                        <p class="dashboard-value">{{ games_played }}</p>
                        <p class="dashboard-change">Completed 5 new games</p>
                    </div>
                </div>
                <!-- Visitors Online (Placeholder) -->
                <div class="col-lg-4">
                    <div class="dashboard-card bg-light p-4 rounded">
                        <h3 class="dashboard-title">Visitors Online</h3>
                        <p class="dashboard-value">95,574</p>
                        <p class="dashboard-change text-success">Increased by 5%</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="{{ url_for('game') }}" class="btn btn-secondary me-3">Start a New Game</a>
                <a href="{{ url_for('history') }}" class="btn btn-secondary">View Game History</a>
            </div>
        {% else %}
            <p class="text-center">You must <a href="{{ url_for('login') }}" class="text-decoration-none">Login</a> or <a href="{{ url_for('signup') }}" class="text-decoration-none">Sign Up</a> to access your dashboard!</p>
        {% endif %}
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-4">How It Works</h2>
            <div class="row g-4">
                <!-- Step 1 -->
                <div class="col-lg-4">
                    <div class="how-it-works-card p-4 rounded bg-white shadow-sm">
                        <h3 class="step-title">Step 1: Get a Scenario</h3>
                        <p class="step-description">
                            Receive a random real-world scenario like "How many streets are in Boston?"
                        </p>
                    </div>
                </div>
                <!-- Step 2 -->
                <div class="col-lg-4">
                    <div class="how-it-works-card p-4 rounded bg-white shadow-sm">
                        <h3 class="step-title">Step 2: Set Bid and Ask Prices</h3>
                        <p class="step-description">
                            Quote your bid (buy) and ask (sell) prices for the scenario based on your estimates.
                        </p>
                    </div>
                </div>
                <!-- Step 3 -->
                <div class="col-lg-4">
                    <div class="how-it-works-card p-4 rounded bg-white shadow-sm">
                        <h3 class="step-title">Step 3: Trade and Track</h3>
                        <p class="step-description">
                            Make trades, maximize your profits, and track your progress in real time.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about-us" class="about-us-section py-5">
        <div class="container">
            <h2 class="text-center mb-4">About Us</h2>
            <div class="d-flex flex-column flex-lg-row justify-content-between align-items-center">
                <!-- Connor's Block -->
                <div class="about-block p-4 m-2 text-center bg-light rounded shadow-sm">
                    <img src="{{ url_for('static', filename='images/connor.jpg') }}" alt="Connor's Photo" class="rounded-circle mb-3" width="120">
                    <h3 class="about-name">Connor</h3>
                    <p class="about-description">
                        Co-founder and lead developer of MarketMakingMadness. Connor is passionate about coding, soccer, and problem-solving through innovative game design.
                    </p>
                </div>
                <!-- Jesse's Block -->
                <div class="about-block p-4 m-2 text-center bg-light rounded shadow-sm">
                    <img src="{{ url_for('static', filename='images/jesse.jpg') }}" alt="Jesse's Photo" class="rounded-circle mb-3" width="120">
                    <h3 class="about-name">Jesse</h3>
                    <p class="about-description">
                        Co-founder and game strategist of MarketMakingMadness. Jesse is a market enthusiast and loves creating engaging challenges for players.
                    </p>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
